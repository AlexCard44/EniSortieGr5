{% extends 'base.html.twig' %}

{% block title %}Liste des Sorties{% endblock %}

{% block h1 %}
    <h1 class="text-xl font-bold text-gray-900 ">Liste des Sorties</h1>
{% endblock %}

{% block body %}

{{ form_start(form, {attr: {class: 'filter js-filter-form'}}) }}
    <div class="spinner-border js-loading" role="status" aria-hidden="true" style="display: none">
        <span class="sr-only">Loading...</span>
    </div>

    {{ form_row(form.name) }}

    {{ form_row(form.sortiesOrganisees) }}

    {{ form_row(form.sortiesInscrit) }}

    {{ form_row(form.sortiesNonInscrit) }}

    {{ form_row(form.sortiesPassees) }}



{{ form_end(form) }}

<div class="px-4 sm:px-0 border-gray-200">
    <div class="mt-6 border-t border-gray-200">
        <dl class="divide-y divide-gray-200">
            {% for sortie in sorties %}
            <div class="px-4 py-6 sm:grid sm:grid-cols-12 sm:gap-4 sm:px-0">
                <p class="text-base font-semibold col-start-2 col-span-2 leading-6 text-gray-900">{{ sortie.nom }}</p>
                    <a href="{{ path('sortie_details', {'id': sortie.id}) }}" class="bg-lime-500 hover:bg-lime-700 text-white flex justify-center font-bold py-1 px-3 rounded-full col-start-5">DÃ©tails</a>
                    {% if app.user == sortie.organisateur and (sortie.etat.id == 1 or sortie.etat.id == 2) %}
                        <a href="{{ path('sortie_edit', {'id':sortie.id}) }}" class="bg-lime-500 hover:bg-lime-700 text-white flex justify-center font-bold py-1 px-3 rounded-full col-start-7"> Modifier</a>
                    {% endif %}
            </div>
            {% endfor %}
        </dl>


    

   
    </div>
</div>
{% endblock %}
